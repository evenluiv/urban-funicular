import{r as n,j as l}from"./index-DqVJc5I7.js";const m=s=>new Promise((t,e)=>{if(typeof window.google=="object"&&typeof window.google.maps=="object"){t();return}const r=document.createElement("script");r.src=`https://maps.googleapis.com/maps/api/js?key=${s}`,r.async=!0,r.defer=!0,r.onload=()=>t(),r.onerror=a=>e(a),document.head.appendChild(r)}),f={width:"100%",height:"400px"},d={lat:59.45856957805664,lng:24.8616672746847},E=({apiKey:s,mapId:t})=>{const e=n.useRef(null),[r,a]=n.useState(!1),[p,u]=n.useState(null);return n.useEffect(()=>{const i=new IntersectionObserver(o=>{o[0].isIntersecting&&(m(s).then(()=>a(!0)).catch(c=>{console.error("Error loading Google Maps script:",c),u("Error loading Google Maps script.")}),i.disconnect())},{threshold:.1});return e.current&&i.observe(e.current),()=>{e.current&&i.unobserve(e.current)}},[s]),n.useEffect(()=>{r&&e.current&&(async()=>{try{const{Map:o}=await google.maps.importLibrary("maps"),{AdvancedMarkerElement:c}=await google.maps.importLibrary("marker");if(e.current){const g=new o(e.current,{center:d,zoom:16,mapId:t});new c({position:d,map:g,title:"Porkuni KoerteHotell"})}}catch(o){console.error("Error initializing Google Map:",o),u("Error initializing Google Map.")}})()},[r,t]),l.jsx("div",{children:p?l.jsxs("div",{children:["Error: ",p]}):l.jsx("div",{ref:e,className:"map-container",style:f})})};export{E as default};
